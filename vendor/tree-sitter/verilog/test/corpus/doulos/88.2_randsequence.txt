============================================
doulos/88.2_randsequence
============================================

// Section 88.2: Randsequence

initial begin
randsequence(Top)
  Top : One Two Three Four;
  One : S11 | S12;
  // Sequence aborted after S21 if i < 2
  Two : S21 {if (i < 2) break;} S22;
  Three : case (j)
          0    : S31;           // If j=0, S31 is generated
          1, 2 : S32;           // If j=1 or 2, S32 is generated
          default : S33;        // Otherwise, S33 is generated
        endcase ;
  // Repeat S4 a random no. of times in the range [1:3], depending on the
  // value returned by $urandom_range()
  Four : repeat($urandom_range(1, 3)) S4;
  S11 : {$display("S11");} ;
  S12 : {$display("S12");} ;
  S21 : {i--; $display("S21");} ;
  S22 : {i++; $display("S22");} ;
  /*...*/
endsequence
  end



----

(source_file
  (comment)
  (initial_construct
    (statement_or_null
      (statement
        (statement_item
          (seq_block
            (statement_or_null
              (statement
                (statement_item
                  (randsequence_statement
                    (simple_identifier)
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_production_item
                              (simple_identifier)))
                          (rs_prod
                            (rs_production_item
                              (simple_identifier)))
                          (rs_prod
                            (rs_production_item
                              (simple_identifier)))
                          (rs_prod
                            (rs_production_item
                              (simple_identifier))))))
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_production_item
                              (simple_identifier)))))
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_production_item
                              (simple_identifier))))))
                    (comment)
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_production_item
                              (simple_identifier)))
                          (rs_prod
                            (rs_code_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          left: (expression
                                            (primary
                                              (hierarchical_identifier
                                                (simple_identifier))))
                                          right: (expression
                                            (primary
                                              (primary_literal
                                                (integral_number
                                                  (decimal_number
                                                    (unsigned_number))))))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (jump_statement))))))))))
                          (rs_prod
                            (rs_production_item
                              (simple_identifier))))))
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_case
                              (case_expression
                                (expression
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))))
                              (rs_case_item
                                (case_item_expression
                                  (expression
                                    (primary
                                      (primary_literal
                                        (integral_number
                                          (decimal_number
                                            (unsigned_number)))))))
                                (rs_production_item
                                  (simple_identifier)))
                              (comment)
                              (rs_case_item
                                (case_item_expression
                                  (expression
                                    (primary
                                      (primary_literal
                                        (integral_number
                                          (decimal_number
                                            (unsigned_number)))))))
                                (case_item_expression
                                  (expression
                                    (primary
                                      (primary_literal
                                        (integral_number
                                          (decimal_number
                                            (unsigned_number)))))))
                                (rs_production_item
                                  (simple_identifier)))
                              (comment)
                              (rs_case_item
                                (rs_production_item
                                  (simple_identifier)))
                              (comment))))))
                    (comment)
                    (comment)
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_repeat
                              (expression
                                (primary
                                  (function_subroutine_call
                                    (subroutine_call
                                      (system_tf_call
                                        (system_tf_identifier)
                                        (list_of_arguments
                                          (expression
                                            (primary
                                              (primary_literal
                                                (integral_number
                                                  (decimal_number
                                                    (unsigned_number))))))
                                          (expression
                                            (primary
                                              (primary_literal
                                                (integral_number
                                                  (decimal_number
                                                    (unsigned_number))))))))))))
                              (rs_production_item
                                (simple_identifier)))))))
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_code_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (subroutine_call_statement
                                      (subroutine_call
                                        (system_tf_call
                                          (system_tf_identifier)
                                          (list_of_arguments
                                            (expression
                                              (primary
                                                (primary_literal
                                                  (string_literal
                                                    (quoted_string)))))))))))))))))
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_code_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (subroutine_call_statement
                                      (subroutine_call
                                        (system_tf_call
                                          (system_tf_identifier)
                                          (list_of_arguments
                                            (expression
                                              (primary
                                                (primary_literal
                                                  (string_literal
                                                    (quoted_string)))))))))))))))))
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_code_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (inc_or_dec_expression
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (inc_or_dec_operator))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (subroutine_call_statement
                                      (subroutine_call
                                        (system_tf_call
                                          (system_tf_identifier)
                                          (list_of_arguments
                                            (expression
                                              (primary
                                                (primary_literal
                                                  (string_literal
                                                    (quoted_string)))))))))))))))))
                    (rs_production
                      (simple_identifier)
                      (rs_rule
                        (rs_production_list
                          (rs_prod
                            (rs_code_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (inc_or_dec_expression
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (inc_or_dec_operator))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (subroutine_call_statement
                                      (subroutine_call
                                        (system_tf_call
                                          (system_tf_identifier)
                                          (list_of_arguments
                                            (expression
                                              (primary
                                                (primary_literal
                                                  (string_literal
                                                    (quoted_string)))))))))))))))))
                    (comment)))))))))))
