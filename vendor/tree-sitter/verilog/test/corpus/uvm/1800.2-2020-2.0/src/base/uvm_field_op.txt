============================================
uvm/1800.2-2020-2.0/src/base/uvm_field_op
============================================

//----------------------------------------------------------------------
// Copyright 2018 Cadence Design Systems, Inc.
// Copyright 2018 Cisco Systems, Inc.
// Copyright 2018-2020 NVIDIA Corporation
// Copyright 2018 Synopsys, Inc.
//   All Rights Reserved Worldwide
//
//   Licensed under the Apache License, Version 2.0 (the
//   "License"); you may not use this file except in
//   compliance with the License.  You may obtain a copy of
//   the License at
//
//       http://www.apache.org/licenses/LICENSE-2.0
//
//   Unless required by applicable law or agreed to in
//   writing, software distributed under the License is
//   distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
//   CONDITIONS OF ANY KIND, either express or implied.  See
//   the License for the specific language governing
//   permissions and limitations under the License.
//----------------------------------------------------------------------

//------------------------------------------------------------------------------
// Class - uvm_field_op
//
// uvm_field_op is the UVM class for describing all operations supported by the do_execute_op function
//------------------------------------------------------------------------------

// @uvm-ieee 1800.2-2020 auto 5.7.1
class uvm_field_op extends uvm_object;

   `uvm_object_utils(uvm_field_op)

   local uvm_policy m_policy;
   local bit m_user_hook;
   local uvm_object m_object;
   // Bit m_is_set is set when the set() method is called and acts 
   // like a state variable. It is cleared when flush is called.
   local bit m_is_set;
   local  uvm_field_flag_t m_op_type;


   // Function -- new 
   // 
   // Creates a policy with the specified instance name. If name is not provided, then the policy instance is
   // unnamed.

   // @uvm-ieee 1800.2-2020 auto 5.7.2.1
   function new (string name="");
      super.new(name);
      m_is_set = 1'b0;
      m_user_hook = 1'b1;
   endfunction


   // @uvm-ieee 1800.2-2020 auto 5.7.2.2
   virtual function void set( uvm_field_flag_t op_type, uvm_policy policy = null, uvm_object rhs = null);
     string matching_ops[$];
     if (op_type & UVM_COPY)
       matching_ops.push_back("UVM_COPY");
     if (op_type & UVM_COMPARE)
       matching_ops.push_back("UVM_COMPARE");
     if (op_type & UVM_PRINT)
       matching_ops.push_back("UVM_PRINT");
     if (op_type & UVM_RECORD)
       matching_ops.push_back("UVM_RECORD");
     if (op_type & UVM_PACK)
       matching_ops.push_back("UVM_PACK");
     if (op_type & UVM_UNPACK)
       matching_ops.push_back("UVM_UNPACK");
     if (op_type & UVM_SET)
       matching_ops.push_back("UVM_SET");

     if (matching_ops.size() > 1) begin
       string msg_queue[$];
       msg_queue.push_back("(");
       foreach (matching_ops[i]) begin
         msg_queue.push_back(matching_ops[i]);
         if (i != matching_ops.size() - 1)
           msg_queue.push_back(",");
       end
       msg_queue.push_back(")");
       `uvm_error("UVM/FIELD_OP/SET_BAD_OP_TYPE", {"set() was passed op_type matching multiple operations: ", `UVM_STRING_QUEUE_STREAMING_PACK(msg_queue)})
     end

     if(m_is_set == 0) begin
       m_op_type = op_type;
       m_policy = policy;
       m_object = rhs;
       m_is_set = 1'b1;
     end 
     else 
       `uvm_error("UVM/FIELD_OP/SET","Attempting to set values in policy without flushing")
   endfunction 

   // @uvm-ieee 1800.2-2020 auto 5.7.2.3
   virtual function string get_op_name();
      case(m_op_type)
        UVM_COPY : return "copy";
        UVM_COMPARE : return "compare";
        UVM_PRINT : return "print";
        UVM_RECORD : return "record";
        UVM_PACK : return "pack";
        UVM_UNPACK : return "unpack";
        UVM_SET : return "set";
        default: return "";
      endcase
   endfunction

   // @uvm-ieee 1800.2-2020 auto 5.7.2.4
   virtual function uvm_field_flag_t get_op_type();
      if(m_is_set == 1'b1) 
        return m_op_type;
      else 
        `uvm_error("UVM/FIELD_OP/GET_OP_TYPE","Calling get_op_type() before calling set() is not allowed")
   endfunction


   // @uvm-ieee 1800.2-2020 auto 5.7.2.5
   virtual function uvm_policy get_policy();
      if(m_is_set == 1'b1) 
        return m_policy;
      else 
        `uvm_error("UVM/FIELD_OP/GET_POLICY","Attempting to call get_policy() before calling set() is not allowed")
   endfunction

   // @uvm-ieee 1800.2-2020 auto 5.7.2.6
   virtual function uvm_object get_rhs();
      if(m_is_set == 1'b1) 
        return m_object;
      else 
        `uvm_error("UVM/FIELD_OP/GET_RHS","Calling get_rhs() before calling set() is not allowed")
   endfunction

   // @uvm-ieee 1800.2-2020 auto 5.7.2.7
   function bit user_hook_enabled();
      if(m_is_set == 1'b1) 
        return m_user_hook;
      else 
        `uvm_error("UVM/FIELD_OP/GET_USER_HOOK","Attempting to get_user_hook before calling set() is not allowed")
   endfunction

   // @uvm-ieee 1800.2-2020 auto 5.7.2.8
   function void disable_user_hook();
      m_user_hook = 1'b0;
   endfunction

   static uvm_field_op m_recycled_op[$] ; 

   // @uvm-ieee 1800.2-2020 auto 5.7.2.9
   virtual function void flush();
      m_policy = null;
      m_object = null;
      m_user_hook = 1'b1;
      m_is_set = 0;
   endfunction

   // API for reusing uvm_field_op instances.  Implementation
   // artifact, should not be used directly by the user.
   function void m_recycle();
     this.flush();
     m_recycled_op.push_back(this);
   endfunction : m_recycle 
 
   static function uvm_field_op m_get_available_op() ;
      uvm_field_op field_op ;
      if (m_recycled_op.size() > 0) field_op = m_recycled_op.pop_back() ;
      else field_op = uvm_field_op::type_id::create("field_op");
      return field_op ;
   endfunction
endclass

----

(source_file
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (comment)
  (class_declaration
    name: (simple_identifier)
    (class_type
      (simple_identifier))
    (class_item
      (text_macro_usage
        (simple_identifier)
        (list_of_actual_arguments
          (actual_argument
            (param_expression
              (mintypmax_expression
                (expression
                  (primary
                    (hierarchical_identifier
                      (simple_identifier))))))))))
    (class_item
      (class_property
        (class_item_qualifier)
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (class_item
      (class_property
        (class_item_qualifier)
        (data_declaration
          (data_type_or_implicit
            (data_type
              (integer_vector_type)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (class_item
      (class_property
        (class_item_qualifier)
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (comment)
    (comment)
    (class_item
      (class_property
        (class_item_qualifier)
        (data_declaration
          (data_type_or_implicit
            (data_type
              (integer_vector_type)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (class_item
      (class_property
        (class_item_qualifier)
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (comment)
    (comment)
    (comment)
    (comment)
    (comment)
    (class_item
      (class_method
        (class_constructor_declaration
          (class_constructor_arg_list
            (class_constructor_arg
              (tf_port_item
                (data_type_or_implicit
                  (data_type))
                name: (simple_identifier)
                (expression
                  (primary
                    (primary_literal
                      (string_literal
                        (quoted_string))))))))
          (list_of_arguments
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))
          (function_statement_or_null
            (function_statement
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (binary_number
                                size: (unsigned_number)
                                base: (binary_base)
                                value: (binary_value))))))))))))
          (function_statement_or_null
            (function_statement
              (statement
                (statement_item
                  (blocking_assignment
                    (operator_assignment
                      (variable_lvalue
                        (hierarchical_identifier
                          (simple_identifier)))
                      (assignment_operator)
                      (expression
                        (primary
                          (primary_literal
                            (integral_number
                              (binary_number
                                size: (unsigned_number)
                                base: (binary_base)
                                value: (binary_value)))))))))))))))
    (comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (tf_port_list
              (tf_port_item
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                name: (simple_identifier))
              (tf_port_item
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                name: (simple_identifier)
                (expression
                  (primary)))
              (tf_port_item
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                name: (simple_identifier)
                (expression
                  (primary))))
            (block_item_declaration
              (data_declaration
                (data_type_or_implicit
                  (data_type))
                (list_of_variable_decl_assignments
                  (variable_decl_assignment
                    name: (simple_identifier)
                    (queue_dimension)))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (subroutine_call_statement
                              (subroutine_call
                                (method_call
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))
                                  (method_call_body
                                    (queue_method_call
                                      (queue_method_name)
                                      (list_of_arguments
                                        (expression
                                          (primary
                                            (primary_literal
                                              (string_literal
                                                (quoted_string)))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (subroutine_call_statement
                              (subroutine_call
                                (method_call
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))
                                  (method_call_body
                                    (queue_method_call
                                      (queue_method_name)
                                      (list_of_arguments
                                        (expression
                                          (primary
                                            (primary_literal
                                              (string_literal
                                                (quoted_string)))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (subroutine_call_statement
                              (subroutine_call
                                (method_call
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))
                                  (method_call_body
                                    (queue_method_call
                                      (queue_method_name)
                                      (list_of_arguments
                                        (expression
                                          (primary
                                            (primary_literal
                                              (string_literal
                                                (quoted_string)))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (subroutine_call_statement
                              (subroutine_call
                                (method_call
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))
                                  (method_call_body
                                    (queue_method_call
                                      (queue_method_name)
                                      (list_of_arguments
                                        (expression
                                          (primary
                                            (primary_literal
                                              (string_literal
                                                (quoted_string)))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (subroutine_call_statement
                              (subroutine_call
                                (method_call
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))
                                  (method_call_body
                                    (queue_method_call
                                      (queue_method_name)
                                      (list_of_arguments
                                        (expression
                                          (primary
                                            (primary_literal
                                              (string_literal
                                                (quoted_string)))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (subroutine_call_statement
                              (subroutine_call
                                (method_call
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))
                                  (method_call_body
                                    (queue_method_call
                                      (queue_method_name)
                                      (list_of_arguments
                                        (expression
                                          (primary
                                            (primary_literal
                                              (string_literal
                                                (quoted_string)))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (subroutine_call_statement
                              (subroutine_call
                                (method_call
                                  (primary
                                    (hierarchical_identifier
                                      (simple_identifier)))
                                  (method_call_body
                                    (queue_method_call
                                      (queue_method_name)
                                      (list_of_arguments
                                        (expression
                                          (primary
                                            (primary_literal
                                              (string_literal
                                                (quoted_string)))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (function_subroutine_call
                                (subroutine_call
                                  (method_call
                                    (primary
                                      (hierarchical_identifier
                                        (simple_identifier)))
                                    (method_call_body
                                      (array_or_queue_method_call
                                        (array_or_queue_method_name))))))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)
                                      (queue_dimension)))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (subroutine_call_statement
                                      (subroutine_call
                                        (method_call
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))
                                          (method_call_body
                                            (queue_method_call
                                              (queue_method_name)
                                              (list_of_arguments
                                                (expression
                                                  (primary
                                                    (primary_literal
                                                      (string_literal
                                                        (quoted_string))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (loop_statement
                                      (hierarchical_identifier
                                        (simple_identifier))
                                      (loop_variables
                                        (simple_identifier))
                                      (statement
                                        (statement_item
                                          (seq_block
                                            (statement_or_null
                                              (statement
                                                (statement_item
                                                  (subroutine_call_statement
                                                    (subroutine_call
                                                      (method_call
                                                        (primary
                                                          (hierarchical_identifier
                                                            (simple_identifier)))
                                                        (method_call_body
                                                          (queue_method_call
                                                            (queue_method_name)
                                                            (list_of_arguments
                                                              (expression
                                                                (primary
                                                                  (hierarchical_identifier
                                                                    (simple_identifier))
                                                                  (select
                                                                    (bit_select
                                                                      (expression
                                                                        (primary
                                                                          (hierarchical_identifier
                                                                            (simple_identifier)))))))))))))))))
                                            (statement_or_null
                                              (statement
                                                (statement_item
                                                  (conditional_statement
                                                    (cond_predicate
                                                      (expression
                                                        left: (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier))))
                                                        right: (expression
                                                          left: (expression
                                                            (primary
                                                              (function_subroutine_call
                                                                (subroutine_call
                                                                  (method_call
                                                                    (primary
                                                                      (hierarchical_identifier
                                                                        (simple_identifier)))
                                                                    (method_call_body
                                                                      (array_or_queue_method_call
                                                                        (array_or_queue_method_name))))))))
                                                          right: (expression
                                                            (primary
                                                              (primary_literal
                                                                (integral_number
                                                                  (decimal_number
                                                                    (unsigned_number)))))))))
                                                    (statement_or_null
                                                      (statement
                                                        (statement_item
                                                          (subroutine_call_statement
                                                            (subroutine_call
                                                              (method_call
                                                                (primary
                                                                  (hierarchical_identifier
                                                                    (simple_identifier)))
                                                                (method_call_body
                                                                  (queue_method_call
                                                                    (queue_method_name)
                                                                    (list_of_arguments
                                                                      (expression
                                                                        (primary
                                                                          (primary_literal
                                                                            (string_literal
                                                                              (quoted_string)))))))))))))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (subroutine_call_statement
                                      (subroutine_call
                                        (method_call
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))
                                          (method_call_body
                                            (queue_method_call
                                              (queue_method_name)
                                              (list_of_arguments
                                                (expression
                                                  (primary
                                                    (primary_literal
                                                      (string_literal
                                                        (quoted_string))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (text_macro_usage
                                      (simple_identifier)
                                      (list_of_actual_arguments
                                        (actual_argument
                                          (param_expression
                                            (mintypmax_expression
                                              (expression
                                                (primary
                                                  (primary_literal
                                                    (string_literal
                                                      (quoted_string))))))))
                                        (actual_argument
                                          (param_expression
                                            (mintypmax_expression
                                              (expression
                                                (primary
                                                  (concatenation
                                                    (expression
                                                      (primary
                                                        (primary_literal
                                                          (string_literal
                                                            (quoted_string)))))
                                                    (expression
                                                      (text_macro_usage
                                                        (simple_identifier)
                                                        (list_of_actual_arguments
                                                          (actual_argument
                                                            (param_expression
                                                              (mintypmax_expression
                                                                (expression
                                                                  (primary
                                                                    (hierarchical_identifier
                                                                      (simple_identifier))))))))))))))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (primary_literal
                                              (integral_number
                                                (binary_number
                                                  size: (unsigned_number)
                                                  base: (binary_base)
                                                  value: (binary_value)))))))))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (text_macro_usage
                              (simple_identifier)
                              (list_of_actual_arguments
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))))))))))))))))
    (comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type))
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (case_statement
                      (case_keyword)
                      (case_expression
                        (expression
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))))
                      (case_item
                        (case_item_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string))))))))))
                      (case_item
                        (case_item_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string))))))))))
                      (case_item
                        (case_item_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string))))))))))
                      (case_item
                        (case_item_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string))))))))))
                      (case_item
                        (case_item_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string))))))))))
                      (case_item
                        (case_item_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string))))))))))
                      (case_item
                        (case_item_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string))))))))))
                      (case_item
                        (statement_or_null
                          (statement
                            (statement_item
                              (jump_statement
                                (expression
                                  (primary
                                    (primary_literal
                                      (string_literal
                                        (quoted_string)))))))))))))))))))
    (comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type
                (simple_identifier)))
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (binary_number
                                    size: (unsigned_number)
                                    base: (binary_base)
                                    value: (binary_value))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (jump_statement
                              (expression
                                (primary
                                  (hierarchical_identifier
                                    (simple_identifier))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (text_macro_usage
                              (simple_identifier)
                              (list_of_actual_arguments
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))))))))))))))))
    (comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type
                (simple_identifier)))
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (binary_number
                                    size: (unsigned_number)
                                    base: (binary_base)
                                    value: (binary_value))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (jump_statement
                              (expression
                                (primary
                                  (hierarchical_identifier
                                    (simple_identifier))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (text_macro_usage
                              (simple_identifier)
                              (list_of_actual_arguments
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))))))))))))))))
    (comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type
                (simple_identifier)))
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (binary_number
                                    size: (unsigned_number)
                                    base: (binary_base)
                                    value: (binary_value))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (jump_statement
                              (expression
                                (primary
                                  (hierarchical_identifier
                                    (simple_identifier))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (text_macro_usage
                              (simple_identifier)
                              (list_of_actual_arguments
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))))))))))))))))
    (comment)
    (class_item
      (class_method
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type
                (integer_vector_type)))
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (binary_number
                                    size: (unsigned_number)
                                    base: (binary_base)
                                    value: (binary_value))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (jump_statement
                              (expression
                                (primary
                                  (hierarchical_identifier
                                    (simple_identifier))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (text_macro_usage
                              (simple_identifier)
                              (list_of_actual_arguments
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string))))))))))))))))))))))
    (comment)
    (class_item
      (class_method
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary
                            (primary_literal
                              (integral_number
                                (binary_number
                                  size: (unsigned_number)
                                  base: (binary_base)
                                  value: (binary_value))))))))))))))))
    (class_item
      (class_property
        (class_item_qualifier)
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier)
              (queue_dimension))))))
    (comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary
                            (primary_literal
                              (integral_number
                                (binary_number
                                  size: (unsigned_number)
                                  base: (binary_base)
                                  value: (binary_value))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))))))
    (comment)
    (comment)
    (class_item
      (class_method
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (subroutine_call_statement
                      (subroutine_call
                        (method_call
                          (implicit_class_handle)
                          (method_call_body
                            name: (simple_identifier)))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (subroutine_call_statement
                      (subroutine_call
                        (method_call
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))
                          (method_call_body
                            (queue_method_call
                              (queue_method_name)
                              (list_of_arguments
                                (expression
                                  (primary))))))))))))
            (simple_identifier)))))
    (class_item
      (class_method
        (method_qualifier
          (class_item_qualifier))
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type
                (simple_identifier)))
            name: (simple_identifier)
            (block_item_declaration
              (data_declaration
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                (list_of_variable_decl_assignments
                  (variable_decl_assignment
                    name: (simple_identifier)))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (function_subroutine_call
                                (subroutine_call
                                  (method_call
                                    (primary
                                      (hierarchical_identifier
                                        (simple_identifier)))
                                    (method_call_body
                                      (array_or_queue_method_call
                                        (array_or_queue_method_name))))))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (blocking_assignment
                              (operator_assignment
                                (variable_lvalue
                                  (hierarchical_identifier
                                    (simple_identifier)))
                                (assignment_operator)
                                (expression
                                  (primary
                                    (function_subroutine_call
                                      (subroutine_call
                                        (method_call
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))
                                          (method_call_body
                                            (queue_method_call
                                              (queue_method_name)))))))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (blocking_assignment
                              (operator_assignment
                                (variable_lvalue
                                  (hierarchical_identifier
                                    (simple_identifier)))
                                (assignment_operator)
                                (expression
                                  (primary
                                    (function_subroutine_call
                                      (subroutine_call
                                        (method_call
                                          (class_type
                                            (simple_identifier)
                                            (simple_identifier))
                                          (method_call_body
                                            name: (simple_identifier)
                                            arguments: (list_of_arguments
                                              (expression
                                                (primary
                                                  (primary_literal
                                                    (string_literal
                                                      (quoted_string))))))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (jump_statement
                      (expression
                        (primary
                          (hierarchical_identifier
                            (simple_identifier)))))))))))))))
